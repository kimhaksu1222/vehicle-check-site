
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>기린인력 차량정보 조회</title>
  <style>
    body { font-family: sans-serif; background: #f0f0f0; padding: 2rem; text-align: center; }
    .container { background: white; padding: 2rem; border-radius: 1rem; box-shadow: 0 0 10px rgba(0,0,0,0.1); max-width: 600px; margin: auto; }
    input, button, select { padding: 0.5rem; margin-top: 0.5rem; width: 80%; font-size: 1rem; }
    .result { margin-top: 1.5rem; background: #eee; padding: 1rem; border-radius: 0.5rem; }
    .admin-panel { margin-top: 2rem; padding: 1rem; background: #e0f7fa; border-radius: 1rem; display: none; position: relative; }
    .close-btn { position: absolute; top: 10px; right: 20px; background: red; color: white; border: none; border-radius: 50%; width: 30px; height: 30px; cursor: pointer; }
    .worker-list { text-align: left; max-height: 200px; overflow-y: auto; background: #fff; border: 1px solid #ccc; padding: 1rem; margin-top: 1rem; border-radius: 0.5rem; }
  </style>
</head>
<body>
  <div class="container">
    <h2>기린인력 차량정보 조회</h2>
    <input type="text" id="nameInput" placeholder="이름을 입력하세요">
    <br>
    <button onclick="lookup()">조회하기</button>
    <div class="result" id="resultBox" style="display:none;"></div>
    <hr>
    <input type="password" id="adminPass" placeholder="비밀번호 입력">
    <button onclick="checkPassword()">관리자 접속</button>

    <div class="admin-panel" id="adminPanel">
      <button class="close-btn" onclick="closeAdmin()">×</button>
      <h3>🚧 관리자 정보 추가/수정/삭제</h3>
      <input type="text" id="adminName" placeholder="이름">

      <select id="adminCompany">
        <option disabled selected>업체명 선택</option>
        <option>코스원</option><option>예그리나</option><option>유씨엘</option><option>헵스켐</option><option>이시스코스메틱</option>
        <option>뷰랜코리아</option><option>화인글로벌랩</option><option>에스투제약</option><option>피엘코스메틱</option><option>네이처인트로</option>
        <option>리즈코스</option><option>비알코스</option><option>대한생명바이오</option><option>에스앤제이</option><option>잉글우드랩</option>
        <option>ES코스메틱</option><option>코스페이스</option><option>유니클로버</option><option>NFC</option><option>중앙바이오텍</option>
        <option>하이게인안테나</option><option>동인전기</option><option>삼성포리머</option><option>탭코리아</option><option>엔피엠텍</option><option>제일바이오</option>
      </select>

      <select id="adminTime">
        <option disabled selected>출발시간 선택</option>
        <option>07:00</option><option>07:30</option><option>08:00</option>
      </select>

      <select id="adminCar">
        <option disabled selected>차량번호 선택</option>
        <option>77보9040</option><option>75보7727</option><option>71마1375</option><option>71다1165</option><option>71보6549</option>
        <option>72두8789</option><option>2721(하이게인)</option><option>8232(남동)</option><option>15人탕기사</option>
      </select>

      <select id="adminColor">
        <option disabled selected>차량 색상 선택</option>
        <option>노란색</option><option>파란색</option><option>은색</option><option>빨간색</option>
      </select>

      <button onclick="addData()">추가/수정</button>
      <button onclick="deleteData()" style="background: #f44336; color: white;">삭제</button>
      <div id="adminNotice" style="margin-top: 1rem; color: green;"></div>
      <h4 style="margin-top: 2rem;">👥 현재 등록된 근로자 목록</h4>
      <div class="worker-list" id="workerList"></div>
    </div>
  </div>

  <script>
    let data = [];

    function lookup() {
      const nameInput = document.getElementById('nameInput').value.trim();
      const result = data.find(d => d.name === nameInput);
      const resultBox = document.getElementById('resultBox');

      if (result) {
        resultBox.innerHTML = `
          <strong>업체명:</strong> ${result.company}<br>
          <strong>출발시간:</strong> ${result.time}<br>
          <strong>차량번호:</strong> ${result.car}<br>
          <strong>색상:</strong> ${result.color}
        `;
        resultBox.style.display = 'block';
      } else {
        resultBox.innerHTML = "해당 이름의 정보를 찾을 수 없습니다.";
        resultBox.style.display = 'block';
      }
    }

    function checkPassword() {
      const input = document.getElementById('adminPass').value;
      const panel = document.getElementById('adminPanel');
      if (input === '1234') {
        panel.style.display = 'block';
        updateWorkerList();
      } else {
        alert("비밀번호가 틀렸습니다.");
      }
    }

    function closeAdmin() {
      document.getElementById('adminPanel').style.display = 'none';
    }

    function addData() {
      const name = document.getElementById('adminName').value.trim();
      const company = document.getElementById('adminCompany').value;
      const time = document.getElementById('adminTime').value;
      const car = document.getElementById('adminCar').value;
      const color = document.getElementById('adminColor').value;
      const notice = document.getElementById('adminNotice');

      if (!name || !company || !time || !car || !color) {
        notice.style.color = 'red';
        notice.innerText = '모든 항목을 입력 또는 선택하세요.';
        return;
      }

      const index = data.findIndex(d => d.name === name);
      if (index !== -1) {
        data[index] = { name, company, time, car, color };
        notice.style.color = 'blue';
        notice.innerText = '기존 정보가 수정되었습니다.';
      } else {
        data.push({ name, company, time, car, color });
        notice.style.color = 'green';
        notice.innerText = '새 정보가 추가되었습니다.';
      }
      updateWorkerList();
    }

    function deleteData() {
      const name = document.getElementById('adminName').value.trim();
      const notice = document.getElementById('adminNotice');
      const index = data.findIndex(d => d.name === name);
      if (index !== -1) {
        data.splice(index, 1);
        notice.style.color = 'orange';
        notice.innerText = '해당 인원이 삭제되었습니다.';
      } else {
        notice.style.color = 'red';
        notice.innerText = '삭제할 인원이 존재하지 않습니다.';
      }
      updateWorkerList();
    }

    function updateWorkerList() {
      const listBox = document.getElementById('workerList');
      listBox.innerHTML = data.map(d => `<div><strong>${d.name}</strong> - ${d.company}, ${d.time}, ${d.car}, ${d.color}</div>`).join('');
    }
  </script>
</body>
</html>
